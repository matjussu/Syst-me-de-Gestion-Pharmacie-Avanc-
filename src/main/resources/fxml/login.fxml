<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.sgpa.controller.LoginController"
            styleClass="login-root"
            stylesheets="@../css/style.css">

    <center>
        <VBox alignment="CENTER" spacing="20" maxWidth="400">
            <padding>
                <Insets top="40" right="40" bottom="40" left="40"/>
            </padding>

            <!-- Logo et titre -->
            <VBox alignment="CENTER" spacing="10" styleClass="login-header">
                <FontIcon iconLiteral="fas-clinic-medical" iconSize="64" styleClass="logo-icon"/>
                <Text text="SGPA" styleClass="app-title"/>
                <Text text="Systeme de Gestion Pharmacie Avance" styleClass="app-subtitle"/>
            </VBox>

            <!-- Formulaire de connexion -->
            <VBox spacing="15" styleClass="login-form">
                <VBox spacing="5">
                    <Label text="Nom d'utilisateur" styleClass="field-label"/>
                    <HBox styleClass="input-container">
                        <FontIcon iconLiteral="fas-user" styleClass="input-icon"/>
                        <TextField fx:id="usernameField" promptText="Entrez votre identifiant" styleClass="login-input"/>
                    </HBox>
                </VBox>

                <VBox spacing="5">
                    <Label text="Mot de passe" styleClass="field-label"/>
                    <HBox styleClass="input-container">
                        <FontIcon iconLiteral="fas-lock" styleClass="input-icon"/>
                        <PasswordField fx:id="passwordField" promptText="Entrez votre mot de passe" styleClass="login-input" onAction="#handleLogin"/>
                    </HBox>
                </VBox>

                <!-- Message d'erreur -->
                <Label fx:id="errorLabel" styleClass="error-label" visible="false" managed="false"/>

                <!-- Bouton connexion -->
                <Button fx:id="loginButton" text="Se connecter" onAction="#handleLogin"
                        styleClass="login-button" maxWidth="Infinity">
                    <graphic>
                        <FontIcon iconLiteral="fas-sign-in-alt"/>
                    </graphic>
                </Button>

                <!-- Indicateur de chargement -->
                <ProgressIndicator fx:id="loadingIndicator" visible="false" managed="false"/>
            </VBox>

            <!-- Info version -->
            <HBox alignment="CENTER" spacing="10" styleClass="version-info">
                <FontIcon iconLiteral="fas-info-circle" iconSize="12"/>
                <Label text="Version 1.0 - Phase 3"/>
            </HBox>
        </VBox>
    </center>

</BorderPane>
